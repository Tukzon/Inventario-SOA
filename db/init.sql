CREATE TABLE IF NOT EXISTS usuarios(email VARCHAR(50) NOT NULL PRIMARY KEY, nombre VARCHAR(50) NOT NULL, password VARCHAR(200), tipo INT NOT NULL DEFAULT 0, inventario INT NOT NULL DEFAULT 0);
CREATE TABLE IF NOT EXISTS inventarios(id SERIAL NOT NULL PRIMARY KEY, admin_mail VARCHAR(50) NOT NULL, nombre VARCHAR(50) NOT NULL, FOREIGN KEY(admin_mail) REFERENCES usuarios(email));
CREATE TABLE IF NOT EXISTS productos(id INT NOT NULL, inventario INT NOT NULL, stock INT NOT NULL, valido INT NOT NULL DEFAULT 1, PRIMARY KEY(id, inventario), FOREIGN KEY(inventario) REFERENCES inventarios(id));
CREATE TABLE IF NOT EXISTS data_productos(id INT NOT NULL, inventario INT NOT NULL, nombre VARCHAR(50) NOT NULL, descripcion VARCHAR(200), precio INT NOT NULL, PRIMARY KEY(id, inventario), FOREIGN KEY(id, inventario) REFERENCES productos(id, inventario));
CREATE TABLE IF NOT EXISTS despachos(id SERIAL NOT NULL PRIMARY KEY, inventario INT NOT NULL, productos INT ARRAY NOT NULL, cantidad INT ARRAY NOT NULL, direccion VARCHAR(200) NOT NULL, responsable VARCHAR(50) NOT NULL, comprador VARCHAR(50) NOT NULL, valido BOOLEAN DEFAULT TRUE, FOREIGN KEY(inventario) REFERENCES inventarios(id), FOREIGN KEY(responsable) REFERENCES usuarios(email));
